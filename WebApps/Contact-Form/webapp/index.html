<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html lang="en"> <!--<![endif]--><head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="description" content="Chomok- One Page Parallax">
        <meta name="keywords" content="portfolio, one page, creative, webdesign, professional, material, corporate, business, multipurpose, landing page">
        <meta name="author" content="Kazi Mohammed Erfan">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Joining Title -->
        <title>CloudFormation</title>

        <!-- Place favicon.ico in the root directory -->
        <!--<link rel="shortcut icon" href="images/favicon/favicon.png">
        <link rel="apple-touch-icon" href="images/favicon/apple-touch-icon.png">
        <link rel="apple-touch-icon" href="images/favicon/apple-touch-icon-72x72.png">
        <link rel="apple-touch-icon" href="images/favicon/apple-touch-icon-114x114.png">-->

        <!-- Fonts -->
        <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,700,900" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,400i,600,600i,700,700i" rel="stylesheet">


        <!-- Jquery Fancybox CSS -->
        <link href="css/jquery.fancybox.css" rel="stylesheet"><strong></strong>
        <!-- Animate CSS -->

    	<link href="css/animate.css" rel="stylesheet">
        <!-- Material Icons CSS -->
        <link rel="stylesheet" href="fonts/iconfont/material-icons.css">
        <!-- Pixeden Icon CSS -->
        <link rel="stylesheet" href="fonts/pe-icon-7-stroke/css/helper.css">
        <!-- Pixeden Icon CSS -->
        <link rel="stylesheet" href="fonts/pe-icon-7-stroke/css/pe-icon-7-stroke.css">
        <!-- FontAwesome CSS -->
        <link rel="stylesheet" href="fonts/font-awesome/css/font-awesome.min.css">
        <!-- Materialize CSS -->
        <link rel="stylesheet" href="css/materialize.min.css">
        <!-- Bootstrap CSS -->
		<link rel="stylesheet" href="css/bootstrap.css">
        <!-- Transition CSS -->
		<link rel="stylesheet" href="css/transition.css">
        <!-- Navbar CSS -->
        <link rel="stylesheet" href="css/navbar.css">
        <!-- Banner CSS -->
        <link rel="stylesheet" href="css/banner.css">
        <!-- Service CSS -->
        <link rel="stylesheet" href="css/service.css">
        <!-- About-Us CSS -->
        <link rel="stylesheet" href="css/about-us.css">
        <!-- Screen Shot Start -->
        <link rel="stylesheet" href="css/screenshot.css">
        <!-- Our-Clients CSS -->
        <link rel="stylesheet" href="css/our-clients.css">
        <!-- Portfolio CSS -->
        <link rel="stylesheet" href="css/portfolio.css">
        <!-- priceing-table CSS -->
        <link rel="stylesheet" href="css/priceing-table.css">
        <!-- Testinomial CSS -->
        <link rel="stylesheet" href="css/testinomial.css">
        <!-- Faq CSS -->
        <link rel="stylesheet" href="css/faq.css">
        <!-- Contact us CSS -->
        <link rel="stylesheet" href="css/contact-us.css">
        <!-- Footer CSS -->
        <link rel="stylesheet" href="css/footer.css">
        <!-- Home CSS -->
        <link rel="stylesheet" href="css/home.css">
        <!-- Slick Slider CSS -->
        <link rel="stylesheet" href="css/slick.css">
        <!-- Slick-Theme Slider CSS -->
        <link rel="stylesheet" href="css/slick-theme.css">
        <!-- Style CSS -->
        <link rel="stylesheet" href="style.css">
        <!-- Responsive CSS -->
        <link rel="stylesheet" href="css/responsive.css">
        <!-- Faq CSS -->
        <link rel="stylesheet" href="css/faq.css">

        <!--[if lt IE 9]>
            <script src="js/html5shiv.min.js"></script>
            <script src="js/respond.min.js"></script>
        <![endif]-->

        <!-- Mordernizr CSS -->
        <script src="js/vendor/modernizr-2.8.3.min.js"></script>
    </head>
    <body>
        <!-- Preloader Start -->
        <div id="preloader">
          <div class="preloader-wrapper big active">
            <div class="spinner-layer spinner-blue-only">
              <div class="circle-clipper left">
                <div class="circle"></div>
                  </div><div class="gap-patch">
                    <div class="circle"></div>
                  </div><div class="circle-clipper right">
                <div class="circle"></div>
              </div>
            </div>
          </div>
        </div>
		<!-- Preloader End -->
		<!-- Header Start -->
        <header class="header clearfix">
        	<!-- Navigation Menu Starts -->
            <nav class="navbar navbar-default navbar-fixed-top box-shadow-10">
              <div class="container">
                <!-- Brand and toggle get grouped for better mobile display -->
                <div class="navbar-header">
                  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                  </button>
                  <a class="navbar-brand" href="#"><img class="img-responsive" src="images/logoa.png" alt=""/></a>
                </div>

                <!-- Collect the nav links, forms, and other content for toggling -->
                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                  <ul class="nav navbar-nav navbar-right">
                    <li><a data-scroll-nav="0" class="active" href="#">HOME</a></li>
                    <li><a data-scroll-nav="1" href="#">ABOUT  </a></li>
                    <li><a data-scroll-nav="2" href="#">ARCHITECTURE  </a></li>
                    <li><a data-scroll-nav="3" href="#">INSFRASTRUCTURE </a></li>
                    <li><a data-scroll-nav="4" href="#">SUMMARY </a></li>
                    <li><a data-scroll-nav="5" href="#">CONTACT US  </a></li>
                  </ul>
                </div><!-- /.navbar-collapse -->
              </div><!-- /.container-fluid -->
            </nav>
            <!-- Navigation Menu End -->
        </header>
        <!-- Header End -->
        <!-- Banner Start -->
        <section class="banner clearfix wow fadeInUp" data-wow-duration="0.9s" data-scroll-index="0">
        	<div class="container">
            	<!-- Caption Start -->
            	<div class="caption">
                	<h1 class="text-black white-text wow fadeInUp" data-wow-duration="1.8s">Serverless Static Website</h1>
                    <h3 class="white-text text-semibold mb-50 wow fadeInUp" data-wow-duration="2.4s">Thank you for visiting, this page is all about cloud formation to deploy a static website to S3 using Lambda Function. </h3>
                    <button class="white-bg text-uppercase text-bold btn waves-effect subscribe-submit mb-70 wow fadeInUp" data-wow-duration="2.6s">LET'S GET STARTED</button>

                </div>
                <!-- Caption End -->
                <!-- Sofware img Start -->
                <div class="software-img text-center wow fadeInUp"  data-wow-duration="2.4s">
                	<img class="img-responsive" src="-" alt=""/>
                </div>
                <!-- Sofware img End -->
            </div>
        </section>
        <!-- Banner End -->
        <!-- Service Start -->
        <section class="service">
        	<div class="container">
            <div class="caption">
                <h1 class="sky blue-text wow fadeInUp" data-wow-duration="1.0s">Cloudformation</h1>
              </div>
              <p> Infrastructure as code

                <p>In this project, a cloudformation stack is created which invokes a Lambda function.
                     The Lambda function  download the website content from a github repository as a zip file.
                      It creates and configure an S3 bucket for static website hosting, extract the
                     files and upload the contents to S3. It then sends a signal back to cloudformation as either a success or failure.
                     If it's a success as in this case, a website url can be found in cloudformation to access the website.
                     In addition, cloudfront was configured and used to serve the content to the end users.
                  </p>

   <br />
        <div class="software-img text-center wow fadeInUp"  data-wow-duration="2.4s">
          <img class="img-responsive" src="images/cfoverview.png" alt=""/>
        </div>


            </div>
        </section>
        <!-- Service End -->
        <!-- About-US Start -->
       	<section class="about-us padding-tb-150" data-scroll-index="1">
        	<!-- Container Start -->
        	<div class="container">
            <div class="caption">
              <h1 class="sky blue-text wow fadeInUp" data-wow-duration="1.0s">Deploying a Static Website Using Custom Resources</h1>
            </div>
            	<div class="row padding-bottom-150">
                <br /><br /><br />
                	<div class="col-sm-12 col-md-6 wow fadeInUp" data-wow-duration="1.0s">
                    	<img class="img-responsive" src="images/software-img/githubcode.png" alt="">
                      <br /><img class="img-responsive" src="images/software-img/downloadfroms3.png" alt="">
                    </div>
                    <div class="col-sm-12 col-md-6 padding-left-65 wow fadeInUp" data-wow-duration="1.6s">
                    	<h1 class="dark-gray-text mb-46">1. Download Content From Github</h1>
                        <p>First, we write a custom lambda function that download the content of the website we want to deply
                        to S3 from Github. We specify the ConstraintDescription (URL), and the specific subdirectory we want to upload to S3. </p>
                        <br /><br />
                        The logic for downloading respositories from github have the format: account name/archive/master.
                        The files downloaded will be save in /tmp/master.zip. Os.stat gives details of the bytes downloaeded.
                        Extract the files to the target directory and zip.printer will send all the logs to cloudwatch.
                    </div>
                </div>
                <div class="row">
                	<div class="col-sm-12 col-md-6 col-md-push-6 wow fadeInUp" data-wow-duration="2.6s">
                    	<img class="img-responsive" src="images/software-img/S3-bucket-policy.png" alt="">
                    </div>
                	<div class="col-sm-12 col-md-6 padding-right-65 col-md-pull-6 wow fadeInUp" data-wow-duration="2.0s">
                    	<h1 class="dark-gray-text mb-46">2. Create custom resources</h1>
                        <p>
                          After downloading the content from Github, lambda needs to upload the content to S3.
                          In order to accomplish this task, lambda needs access to S3 and we define that by creating custom Resources
                          such as a bucket policy and a role. Access control for the S3 bucket is set to public read, trust policy,
                          IAM AWS AWSLambdaBasicExecutionRole, and an inline policy that allows the PutObjectand DeleteObject in the S3 bucket.
                          <br />
                          The S3 bucket is also configured for static website hosting.


                        </p>
                    </div>
                </div>
            </div>
            <!-- Container End -->
            </br></br></br></br></br></br></br></br></br>
            <!-- Container Start -->
            <div class="container">
                <div class="row padding-bottom-150">
                    <div class="col-sm-12 col-md-6 wow fadeInUp" data-wow-duration="1.0s">
                        <img class="img-responsive" src="images/software-img/lambda_handler.png" alt="">
                      </div>
                      <div class="col-sm-12 col-md-6 padding-left-65 wow fadeInUp" data-wow-duration="1.6s">
                        <h1 class="dark-gray-text mb-46">3. Lambda Handler</h1>
                          <p>
                            A lambda handler is added that defines a timer, the download and extract process.
                            The timer is set to catch timouts, this is very import if anything goes wrong, the
                            cloudformation stack can roll back successfully. The timer uses the context of the remaining
                            execution time, if the lambda function is close to timing out, it will send a message to CloudFormation.
                            The main logic is wrapped in an exception handler that defines 3 basic parameters, the bucket name,
                            repository url and subdirectory. Once the website content is downloaded, it will be saved in a /tmp directory.
                            If the upload to S3 is successful, it will send a success message to cloudformation and if it's not successful,
                            it will send a failed message and the timer will be canceled.
                          </p>
                      </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-12 col-md-6 col-md-push-6 wow fadeInUp" data-wow-duration="2.6s">
                        <img class="img-responsive" src="images/software-img/Upload-to-S3.png" alt="">
                      </div>
                    <div class="col-sm-12 col-md-6 padding-right-65 col-md-pull-6 wow fadeInUp" data-wow-duration="2.0s">
                        <h1 class="dark-gray-text mb-46">4. Upload to S3</h1>
                          <p>
                            In this section, the  content is uploaded to S3 bucket.
                            The path to upload the content to S3 is retrieved from the CloudFormation stack.
                            The os.walk iterate through all the files and determine the mimetypes, once that
                            is done, it is then send to bucket.put_object for upload to S3. If the upload is
                            successful, a success message is send to CloudFormation.
                          </p>
                      </div>
                  </div>
              </div>
              <!-- Container End -->

            </br></br></br></br></br></br></br></br></br>
            <!-- Container Start -->
            <div class="container">
                <div class="row padding-bottom-150">
                    <div class="col-sm-12 col-md-6 wow fadeInUp" data-wow-duration="1.0s">
                        <img class="img-responsive" src="images/software-img/cf.png" alt="">
                      </div>
                      <div class="col-sm-12 col-md-6 padding-left-65 wow fadeInUp" data-wow-duration="1.6s">
                        <h1 class="dark-gray-text mb-46">5.Create Stack</h1>
                          <p>
                            In the AWS console, head to cloudformation and click on create a stack.
                            Select Template is ready, upload a template file and choose your file to be uploaded.
                            if you have not validated your template yet, or unsure is it's valid or not, you can click
                            on View in Designer. In Designer, you can see a graphical representation of your code as well validate the template.
                            If your template is good, and you're sure everything is good, click on next, enter the stack name and click on next
                          </p>
                      </div>
                  </div>
              </div>
              <!-- Container End -->

              <!-- Container Start -->
              <div class="container">
                  <div class="row padding-bottom-150">
                      <div class="col-sm-12 col-md-6 wow fadeInUp" data-wow-duration="1.0s">
                          <img class="img-responsive" src="images/software-img/cf2.png" alt="">
                          <br />
                          <img class="img-responsive" src="images/software-img/cf3.png" alt="">
                        </div>
                        <div class="col-sm-12 col-md-6 padding-left-65 wow fadeInUp" data-wow-duration="1.6s">
                          <h1 class="dark-gray-text mb-46">6.Create Stack</h1>
                            <p>
                              In the next page, enter the stack name, verify the repo RepoSubdir and RepoURL are correct.
                              Click on next, enter tags if you want to, click in next and in the last page, " acknowledge that AWS CloudFormation might create IAM resources"
                              and click on create stack
                            </p>
                        </div>
                    </div>
                </div>
                <!-- Container End -->



              </br>
              <!-- Container Start -->
              <div class="container">
                  <div class="row padding-bottom-150">
                      <div class="col-sm-12 col-md-6 wow fadeInUp" data-wow-duration="1.0s">
                          <img class="img-responsive" src="images/software-img/cf4.png" alt="">
                          <br />
                          <img class="img-responsive" src="images/software-img/cf5.png" alt="">
                        </div>
                        <div class="col-sm-12 col-md-6 padding-left-65 wow fadeInUp" data-wow-duration="1.6s">
                          <h1 class="dark-gray-text mb-46">7.Creation completed</h1>
                            <p>
                              If the stack creation is successful, the status will be create_complete as shown in the image on your left.
                              Under the resources section, we can see all the resources created. In the output tab, theres a link that we can
                              click on to view the static website deployed to S3.
                              In the lambda function, you can click on view the logs in cloudwatch for detail logs.
                              The website URL in cloudformation is very long and sometimes very difficult to read,
                              it will be a good idea to use route 53 to configure a custom domain and cloudfront to serve the content globally.

                            </p>
                        </div>
                    </div>
                </div>
                <!-- Container End -->

        </section>
        <!-- About-US End -->



        <!-- python Start -->
        <section class="screenshot clearfix">
        	<div class="container">
            	<div class="section-title text-center mb-45">
                    <div class="row">
                        <div class="col-centered col-sm-12 col-md-8">
                            <h1 class="white-text wow fadeInUp" data-wow-duration="1.0s">summary</h1>
                            <p class="white-text wow fadeInUp" data-wow-duration="1.6s">
                              A CloudFormation is created which invokes lambda custom resources.
                               The lambda function download files from a GitHub repository as a zip file,
                               and extract the file to the lambda execution environment. It then upload only
                                the specific contents to S3 for static website hosting. After the process is
                                complete, it sends a message to CloudFormation as either a success or failure.
                                In addition, a custom domain name was created, configured with cloud front to
                                serve the content.
                              <br />
                            </p>
                              <br>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- python End -->




        <!-- Contact Us Start -->
        <section class="contact-us sky-bg clearfix" data-scroll-index="5">
        	<div class="container">
                <div class="section-title text-center mb-45">
                    <div class="row">
                        <div class="col-centered col-sm-10 col-md-8">
                            <h1 class="white-text wow fadeInUp" data-wow-duration="1.0s">Keep In Touch</h1>
                            <p class="white-text wow fadeInUp" data-wow-duration="1.6s">
                              If you have any questions, or would like to contact me, fill out the form below.
                              Other contact information is also listed below. Thank you for visiting this page!
                            </p>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <!-- Col Start -->
                    <div class="col-sm-5 col-md-5">
                    	<!-- Address Start -->
                        <div class="address white-bg wow fadeInUp" data-wow-duration="1.0s">
                        	<div class="block wow fadeInUp" data-wow-duration="1.8s">
                                <h2 class="dark-gray-text text-uppercase text-semibold">MY ADDRESS</h2>
                                <p>8969 Couchville Pike
                                  <br />
                                  Mount Juliet, Tennessee 37122, USA <br />
                                  </p>
                            </div>
                            <div class="block wow fadeInUp" data-wow-duration="2.0s">
                                <h2 class="dark-gray-text text-uppercase text-semibold">Phone</h2>
                                <p> 615-957-3859</p>
                            </div>
                            <div class="block wow fadeInUp" data-wow-duration="2.2s">
                                <h2 class="dark-gray-text text-uppercase text-semibold">EMAIL</h2>
                                <a href="juvertmark@gmail.com">juvertmark@gmail.com</a>
                            </div>
                        </div>
                        <!-- Address End -->
                    </div>
                    <!-- Col End -->
                    <!-- Col Start -->
                    <div class="col-sm-7 col-md-7 wow fadeInUp" data-wow-duration="1.0s">
                    	<!-- Form Start -->
                        <div class="form white-bg">
                        	<div class="form-group wow fadeInUp" data-wow-duration="1.8s">
                            	<input type="text" class="form-control" placeholder="Name"/>
                            </div>
                            <div class="form-group wow fadeInUp" data-wow-duration="2.0s">
                            	<input type="email" class="form-control" placeholder="email"/>
                            </div>
                            <div class="form-group wow fadeInUp" data-wow-duration="2.2s">
                            	<input type="text" class="form-control" placeholder="subject"/>
                            </div>
                            <div class="form-group wow fadeInUp" data-wow-duration="2.4s">
                            	<textarea class="form-control" placeholder="Message"></textarea>
                            </div>
                            <div class="send-btn mt-30 wow fadeInUp" data-wow-duration="2.6s">
                            	<input type="submit" class="btn-sky waves-effect waves-light" value="SEND MESSAGE">
                            </div>
                        </div>
                        <!-- Form End -->
                    </div>
                    <!-- Col End -->
                </div>
           </div>
        </section>
        <!-- Contact Us End -->
        <!-- Footer Start -->
        <footer class="footer white-bg clearfix wow fadeInUp" data-wow-duration="1.0s">
        	<div class="scroll-top-btn">
                <a href="#header" data-scroll-goto="0" data-section="top" class="waves-effect scroll-top position-absolute white-bg padding-all-1623 radius-full box-shadow-10 mr-30 top-0 mt-reverse-30 waves-effect"><i class="fa fa-angle-up font-25 dark-gray-text"></i></a>
            </div>
        	<div class="container">
            	<div class="row">
                	<!-- Col Start -->
                    <div class="col-sm-6 col-md-6">
                    	<div class="social-icon">
                        	<ul>
                            	<li> <a class="navbar-brand" href="#"><img class="img-responsive" src="images/tw.png" alt=""/></i></a></li>
                              <li> <a class="navbar-brand" href="#"><img class="img-responsive" src="images/fb.png" alt=""/></i></a></li>
                              <li> <a class="navbar-brand" href="#"><img class="img-responsive" src="images/ln.png" alt=""/></i></a></li>
                              <li> <a class="navbar-brand" href="#"><img class="img-responsive" src="images/sp.png" alt=""/></i></a></li>
                              <li> <a class="navbar-brand" href="#"><img class="img-responsive" src="images/gg.png" alt=""/></i></a></li>
                              <li> <a class="navbar-brand" href="#"><img class="img-responsive" src="images/tb.png" alt=""/></i></a></li>
                            </ul>
                        </div>
                    </div>
                    <!-- Col End -->
                    <!-- Col Start -->
                    <div class="col-sm-6 col-md-6">
                    	<div class="copy-right">
                        	<p>Kazi Erfan Â© All Rights Reserved </p>
                        </div>
                    </div>
                    <!-- Col End -->
                </div>
            </div>
        </footer>
        <!-- Footer End -->
        <!-- jQuery JS -->
        <script src="js/vendor/jquery-1.12.0.min.js"></script>
        <!-- Bootstrap Min JS -->
        <script src="js/bootstrap.min.js"></script>
        <!-- Smooth Scroll JS -->
        <script src="js/materialize.min.js"></script>
        <!-- Fancybox JS -->
        <script src="js/jquery.fancybox.js"></script>
        <!-- Fancybox-Pack JS -->
        <script src="js/jquery.fancybox.pack.js"></script>
        <!-- Isotope Pkgd Ls -->
        <script src="js/isotope/isotope.pkgd.js"></script>
        <!-- Sloppy Masonry JS -->
		<script src="js/isotope/jquery.isotope.sloppy-masonry.min.js"></script>
        <!-- Wow JS -->
        <script src="js/wow.js"></script>
        <!-- Sticky JS -->
        <script src="js/jquery.sticky.js"></script>
        <!-- Scrolllt JS -->
        <script src="js/scrollIt.min.js"></script>
        <!-- Slick Slider JS -->
        <script src="js/slick.min.js"></script>
        <!-- Main JS -->
        <script src="js/main.js"></script>
    </body>
</html>
